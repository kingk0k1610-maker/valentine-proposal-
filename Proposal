<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Poo ğŸ’–</title>

<!-- Confetti library -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
  body{
    margin:0; height:100vh;
    display:flex; align-items:center; justify-content:center;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    background: linear-gradient(135deg,#ffdde1,#ee9ca7);
    overflow:hidden;
  }

  .card{
    background: rgba(255,255,255,0.95);
    padding: 30px 26px;
    border-radius: 20px;
    text-align:center;
    box-shadow: 0 12px 30px rgba(0,0,0,0.2);
    width: min(420px, 92vw);
    z-index: 5;
  }

  h1{ margin:0 0 12px; font-size: 26px; }
  p{ margin:0 0 18px; font-size: 16px; opacity: 0.95; }

  .btn{
    border:none;
    padding: 12px 22px;
    border-radius: 14px;
    font-size: 16px;
    cursor:pointer;
    margin: 6px;
    user-select:none;
  }

  #yes{ background:#22c55e; color:white; }

  #no{
    background:#ef4444; color:white;
    position:absolute;
    left:50%; top:70%;
    transform:translate(-50%,-50%);
    z-index: 3;
  }

  /* Falling hearts */
  .heart{
    position:fixed;
    top:-20px;
    font-size: 22px;
    pointer-events:none;
    animation: fall linear forwards;
    z-index: 1;
  }

  @keyframes fall{
    to{
      transform: translateY(115vh) rotate(20deg);
      opacity: 0;
    }
  }
</style>
</head>

<body>

  <div class="card" id="card">
    <h1>â€œPooâ€ ğŸ’–<br>Will you be my Valentine?</h1>
    <p>Ek option toh obvious hai ğŸ˜„</p>
    <button class="btn" id="yes">Yes ğŸ’•</button>
  </div>

  <button class="btn" id="no">No ğŸ˜œ</button>

  <!-- Romantic music: will start ONLY after Yes click -->
  <audio id="music" loop>
    <source src="https://assets.mixkit.co/music/preview/mixkit-romantic-piano-melody-229.mp3" type="audio/mpeg">
  </audio>

<script>
  const noBtn = document.getElementById("no");
  const yesBtn = document.getElementById("yes");
  const card  = document.getElementById("card");
  const music = document.getElementById("music");

  // No button runs away
  function moveNo(){
    const padding = 16;
    const maxX = window.innerWidth - noBtn.offsetWidth - padding;
    const maxY = window.innerHeight - noBtn.offsetHeight - padding;

    const x = Math.max(padding, Math.floor(Math.random() * maxX));
    const y = Math.max(padding, Math.floor(Math.random() * maxY));

    noBtn.style.left = x + "px";
    noBtn.style.top  = y + "px";
    noBtn.style.transform = "none";
  }

  noBtn.addEventListener("mouseenter", moveNo);
  noBtn.addEventListener("touchstart", (e)=>{
    e.preventDefault();
    moveNo();
  }, {passive:false});

  // Heart rain
  let heartInterval = null;

  function startHeartRain(){
    if (heartInterval) return; // already running
    heartInterval = setInterval(()=>{
      const heart = document.createElement("div");
      heart.className = "heart";

      // mix hearts for extra cute vibe
      const hearts = ["â¤ï¸","ğŸ’–","ğŸ’˜","ğŸ’•","ğŸ’—"];
      heart.textContent = hearts[Math.floor(Math.random()*hearts.length)];

      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = (2.5 + Math.random()*2.5) + "s";
      heart.style.opacity = (0.6 + Math.random()*0.4).toFixed(2);

      document.body.appendChild(heart);
      setTimeout(()=>heart.remove(), 5500);
    }, 180);
  }

  // Confetti celebration
  function celebrate(){
    const duration = 2200;
    const end = Date.now() + duration;

    (function frame(){
      confetti({ particleCount: 7, angle: 60,  spread: 70, origin: { x: 0 } });
      confetti({ particleCount: 7, angle: 120, spread: 70, origin: { x: 1 } });

      if (Date.now() < end) requestAnimationFrame(frame);
    })();

    confetti({ particleCount: 180, spread: 120, origin: { y: 0.6 } });
  }

  // YES click: music + hearts + confetti + message (NO WhatsApp redirect)
  yesBtn.addEventListener("click", async ()=>{
    // start music safely (some browsers block autoplay until user interaction)
    try { await music.play(); } catch(e) {}

    startHeartRain();
    celebrate();

    card.innerHTML = `
      <h1>YAYYY!!! ğŸ‰ğŸ’–</h1>
      <p>
        Poo ğŸ¥¹â¤ï¸<br><br>
        Tumne <b>YES</b> bol diya,<br>
        ab <b>Pritam</b> ka Valentine complete hai ğŸŒ¹
      </p>
    `;
  });
</script>

</body>
</html>
